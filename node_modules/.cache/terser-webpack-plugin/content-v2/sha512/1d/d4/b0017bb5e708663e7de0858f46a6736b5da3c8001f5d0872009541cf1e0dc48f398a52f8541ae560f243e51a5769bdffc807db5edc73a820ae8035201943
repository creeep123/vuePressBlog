{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{352:function(t,s,a){\"use strict\";a.r(s);var n=a(42),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[a(\"h3\",{attrs:{id:\"为什么要使用-this\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#为什么要使用-this\"}},[t._v(\"#\")]),t._v(\" 为什么要使用 this ？\")]),t._v(\" \"),a(\"p\",[t._v(\"this 可以避免显式地传递对象，取而代之的是一种更优雅的方式来隐式地“传递”一个对象引用，通过这种方式来将API设计得更加简洁并且易于复用。\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"对-this-存在的误解\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#对-this-存在的误解\"}},[t._v(\"#\")]),t._v(\" 对 this 存在的\"),a(\"strong\",[t._v(\"误解\")])]),t._v(\" \"),a(\"p\",[t._v(\"​\\t\"),a(\"strong\",[t._v(\"X\")]),t._v(\"\\t\\tthis 指向自身\")]),t._v(\" \"),a(\"p\",[t._v(\"​\\t\"),a(\"strong\",[t._v(\"X\")]),t._v(\"\\t\\tthis 指向它的作用域\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"this-是什么\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#this-是什么\"}},[t._v(\"#\")]),t._v(\" this 是什么？\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[t._v(\"当一个函数被调用时，会创建一个活动记录（有时候也称为执行上下文）。这个记录会包含函数在哪里被调用（调用栈）、函数的调用方式、传入的参数等信息。this就是这个记录的一个属性，会在函数执行的过程中用到。\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"每个函数的this是在调用时被绑定的，完全取决于函数的\"),a(\"strong\",[t._v(\"调用位置\")])])])]),t._v(\" \"),a(\"h3\",{attrs:{id:\"调用位置是什么\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#调用位置是什么\"}},[t._v(\"#\")]),t._v(\" 调用位置是什么？\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[t._v(\"调用位置就是函数在代码中被调用的位置（而不是声明的位置）\")])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"定义很简单，但要找到实际情况中的函数调用位置，最重要的是分析\"),a(\"strong\",[t._v(\"调用栈\")])])]),t._v(\" \"),a(\"li\",[a(\"p\",[t._v(\"调用位置就在调用栈中\"),a(\"strong\",[t._v(\"当前执行\")]),t._v(\"函数的\"),a(\"strong\",[t._v(\"前一个\")]),t._v(\"调用中\")])])]),t._v(\" \"),a(\"p\",[t._v(\"下面我们来看看到底什么是\"),a(\"strong\",[t._v(\"调用栈\")]),t._v(\"和\"),a(\"strong\",[t._v(\"调用位置\")]),t._v(\"：\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-javascript extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"baz\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"￼\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 当前调用栈是：baz￼\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 因此，当前调用位置是全局作用域￼\")]),t._v(\"\\n    ￼\\n    console\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"baz\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"￼\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"bar\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// <-- bar的调用位置￼\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"￼\\n￼\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"bar\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    ￼\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 当前调用栈是baz -> bar￼\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 因此，当前调用位置在baz中￼\")]),t._v(\"\\n    ￼\\n    console\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"bar\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"￼\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"foo\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// <-- foo的调用位置￼\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"￼\\n￼\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"foo\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"￼\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 当前调用栈是baz -> bar -> foo￼\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 因此，当前调用位置在bar中￼\")]),t._v(\"\\n    ￼\\n    console\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"log\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"foo\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"￼\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"￼\\n               ￼\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"baz\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// <-- baz的调用位置\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"在实际编程中，可以使用浏览器的调试工具，其中包含了JavaScript调试器。\")]),t._v(\" \"),a(\"p\",[t._v(\"就本例来说，你可以在工具中给foo()函数的第一行代码设置一个断点，或者直接在第一行代码之前插入一条debugger;语句。运行代码时，调试器会在那个位置暂停，同时会展示当前位置的函数调用列表，这就是你的调用栈。因此，如果你想要分析this的绑定，使用开发者工具得到调用栈，然后找到栈中第二个元素，这就是真正的调用位置。\")]),t._v(\" \"),a(\"p\",[t._v(\"实战：\")]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://gitee.com/yxon123/gitee-sources/raw/master//Images/20200815214931.png\",alt:\"image-20200815214232759\"}})]),t._v(\" \"),a(\"img\",{staticStyle:{zoom:\"150%\"},attrs:{src:\"https://gitee.com/yxon123/gitee-sources/raw/master//Images/20200815214310.png\",alt:\"image-20200815214310543\"}}),t._v(\" \"),a(\"p\",[t._v(\"找到调用位置之后，this 的绑定还需要遵循一些规则，规则有如下四条：\")]),t._v(\" \"),a(\"ol\",[a(\"li\",[t._v(\"默认绑定\")]),t._v(\" \"),a(\"li\",[t._v(\"隐式绑定\")]),t._v(\" \"),a(\"li\",[t._v(\"显示绑定\")]),t._v(\" \"),a(\"li\",[t._v(\"new 绑定\")])]),t._v(\" \"),a(\"p\",[t._v(\"当其中几条规则同时适用时，需要按照一个优先级来遵循优先级第一位的规则。\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"小结\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#小结\"}},[t._v(\"#\")]),t._v(\" 小结\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"this 可以避免显示地传递对象，让代码简洁易复用。\")]),t._v(\" \"),a(\"li\",[t._v(\"this 的绑定只和调用位置有关，且遵循一定的规则。\")]),t._v(\" \"),a(\"li\",[t._v(\"可以通过调用栈来找到调用位置。\")])])])}),[],!1,null,null,null);s.default=r.exports}}]);","extractedComments":[]}