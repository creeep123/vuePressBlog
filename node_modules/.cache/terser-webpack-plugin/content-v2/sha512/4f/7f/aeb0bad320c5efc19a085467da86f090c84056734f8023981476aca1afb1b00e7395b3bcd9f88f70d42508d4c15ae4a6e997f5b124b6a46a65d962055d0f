{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{355:function(s,t,a){\"use strict\";a.r(t);var n=a(42),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"h2\",{attrs:{id:\"为什么要使用-this\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#为什么要使用-this\"}},[s._v(\"#\")]),s._v(\" 为什么要使用 this ？\")]),s._v(\" \"),a(\"p\",[s._v(\"this 可以避免显式地传递对象，取而代之的是一种更优雅的方式来隐式地“传递”一个对象引用，通过这种方式来将API设计得更加简洁并且易于复用。\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"对-this-存在的误解\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#对-this-存在的误解\"}},[s._v(\"#\")]),s._v(\" 对 this 存在的\"),a(\"strong\",[s._v(\"误解\")])]),s._v(\" \"),a(\"p\",[s._v(\"​\\t\"),a(\"strong\",[s._v(\"X\")]),s._v(\"\\t\\tthis 指向自身\")]),s._v(\" \"),a(\"p\",[s._v(\"​\\t\"),a(\"strong\",[s._v(\"X\")]),s._v(\"\\t\\tthis 指向它的作用域\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"this-是什么\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#this-是什么\"}},[s._v(\"#\")]),s._v(\" this 是什么？\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[s._v(\"当一个函数被调用时，会创建一个活动记录（有时候也称为执行上下文）。这个记录会包含函数在哪里被调用（调用栈）、函数的调用方式、传入的参数等信息。this就是这个记录的一个属性，会在函数执行的过程中用到。\")])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"每个函数的this是在调用时被绑定的，完全取决于函数的\"),a(\"strong\",[s._v(\"调用位置\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"调用位置是什么\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#调用位置是什么\"}},[s._v(\"#\")]),s._v(\" 调用位置是什么？\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[s._v(\"调用位置就是函数在代码中被调用的位置（而不是声明的位置）\")])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"定义很简单，但要找到实际情况中的函数调用位置，最重要的是分析\"),a(\"strong\",[s._v(\"调用栈\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"调用位置就在调用栈中\"),a(\"strong\",[s._v(\"当前执行\")]),s._v(\"函数的\"),a(\"strong\",[s._v(\"前一个\")]),s._v(\"调用中\")])])]),s._v(\" \"),a(\"p\",[s._v(\"下面我们来看看到底什么是\"),a(\"strong\",[s._v(\"调用栈\")]),s._v(\"和\"),a(\"strong\",[s._v(\"调用位置\")]),s._v(\"：\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-javascript line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"function\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"baz\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"￼\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 当前调用栈是：baz￼\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 因此，当前调用位置是全局作用域￼\")]),s._v(\"\\n    ￼\\n    console\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"log\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"baz\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"￼\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"bar\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// <-- bar的调用位置￼\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"￼\\n￼\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"function\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"bar\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n    ￼\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 当前调用栈是baz -> bar￼\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 因此，当前调用位置在baz中￼\")]),s._v(\"\\n    ￼\\n    console\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"log\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"bar\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"￼\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"foo\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// <-- foo的调用位置￼\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"￼\\n￼\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"function\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"foo\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"￼\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 当前调用栈是baz -> bar -> foo￼\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// 因此，当前调用位置在bar中￼\")]),s._v(\"\\n    ￼\\n    console\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"log\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"foo\"')]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"￼\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"￼\\n               ￼\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"baz\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"// <-- baz的调用位置\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"23\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"24\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"25\")]),a(\"br\")])]),a(\"p\",[s._v(\"在实际编程中，可以使用浏览器的调试工具，其中包含了JavaScript调试器。\")]),s._v(\" \"),a(\"p\",[s._v(\"就本例来说，你可以在工具中给foo()函数的第一行代码设置一个断点，或者直接在第一行代码之前插入一条debugger;语句。运行代码时，调试器会在那个位置暂停，同时会展示当前位置的函数调用列表，这就是你的调用栈。因此，如果你想要分析this的绑定，使用开发者工具得到调用栈，然后找到栈中第二个元素，这就是真正的调用位置。\")]),s._v(\" \"),a(\"p\",[s._v(\"实战：\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://gitee.com/yxon123/gitee-sources/raw/master//Images/20200815214931.png\",alt:\"image-20200815214232759\"}})]),s._v(\" \"),a(\"img\",{staticStyle:{zoom:\"150%\"},attrs:{src:\"https://gitee.com/yxon123/gitee-sources/raw/master//Images/20200815214310.png\",alt:\"image-20200815214310543\"}}),s._v(\" \"),a(\"p\",[s._v(\"找到调用位置之后，this 的绑定还需要遵循一些规则，规则有如下四条：\")]),s._v(\" \"),a(\"ol\",[a(\"li\",[s._v(\"默认绑定\")]),s._v(\" \"),a(\"li\",[s._v(\"隐式绑定\")]),s._v(\" \"),a(\"li\",[s._v(\"显示绑定\")]),s._v(\" \"),a(\"li\",[s._v(\"new 绑定\")])]),s._v(\" \"),a(\"p\",[s._v(\"当其中几条规则同时适用时，需要按照一个优先级来遵循优先级第一位的规则。\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"小结\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#小结\"}},[s._v(\"#\")]),s._v(\" 小结\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"this 可以避免显示地传递对象，让代码简洁易复用。\")]),s._v(\" \"),a(\"li\",[s._v(\"this 的绑定只和调用位置有关，且遵循一定的规则。\")]),s._v(\" \"),a(\"li\",[s._v(\"可以通过调用栈来找到调用位置。\")])])])}),[],!1,null,null,null);t.default=r.exports}}]);","extractedComments":[]}